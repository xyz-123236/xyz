用springboot+jdbc+shiro/springSecurity
#java配置连接池
excel解析增加参数list<String> fields,把每行转换成JSONObject，方便后面取数据（用数组或JSONArray后面处理数据会出现中间（excel）插入数据，处理数据的index都要往后移）
清除key，添加修改/创建放在service做（继承一个servicebasce或公共类）
插入修改通过数据库表的字段来操作，就不用删除key了

find返回jsonobject,包括count和data
把conn放在外面，用于service控制事务
where条件and改为query对象：使用setString（key，value），setint(),setdate()添加不同的值（可以通过数据库字段类型处理）

超级管理员不需要分配权限，拥有所有权限
其他用户可以分配已有的权限给别人（需要有分配权，用户管理（只能建下层角色））,并可以下层也可使用分配权
账号授权（角色授权），回收授权
资源权限控制成可选择下层是否能分配（在有分配权时）

做版本管理

做一个文档管理（时间排序），生成id，其他地方需要直接填此id即可
存储文件是显示大小，和实际大小（B字节，用于用户上传限制，已上传+要上传）
用户的删除权限，查看权限，（只能删除自己的，如果是授权删除，也能删除）
备注：用于那个模块（在文档管理修改，或者其他模块添加时自动追加）

每个页面加jsp_name属性
输入做多输入，可以逗号分隔，表单null转""
表单输入清除空格

数据字典里存储每个用户的文件上传大小(存字节大小)
数据字典存储字段的中英文，用于key，table表头，excel表头
key，code，name，value，isupdate(是否可以修改值，全局字段不能修改（create_by）,限制文件大小可以修改（file_size）)
用搜索做（可以同时搜file 和 size），或者输入用逗号隔开，数据库模糊查询同时有多个的记录，redis缓存用程序同时匹配

key，name,需求页面,是否导出excel

设置一个可以添加表格表头，数据库栏位，可以解决一些要同时取改jsp-table，db-table，excel-table
	表栏位：id, pid, code(字段名-英文), name(显示名-中文), type(数据类型,字符/数字), width(宽度) , sort(排序)  //同excel设置
	
判断数据唯一的共用方法 only(JSONObject row, Integer id, String... params)

日志写在static里，可以通过网页打开

添加修改记录

已使用的记录不能和未使用的在一起修改，另起一个模块解除已使用的状态，才能重新使用

重要：数据唯一性（多窗口同时操作，无法查到其他事务里没提交的重复数据）：数据库加唯一锁，或添加时用《表锁：锁住表》，其他

数据字典的key不能重复，方便导出excel时可以通过key（列名）找到显示名，（页面最好不再做格式化，应由后台做好格式化，这样excel取到的数据就是格式化后的数据）


总的规则，不要在程序里使用字符串

sys_user     	id: su_id
sys_uxxxx_a   	id: sua_id加个_a防止id重复

建表不允许为null，有为空的情况应该给默认值，减少空查询引起索引失效，or用union代替


可以搜索可以修改的key-value，如果是（系统默认时间规则，语言环境,session超时）之类的，key应该连接有data数据，修改时在data里选择

创建表功能：
   创建表页面：创建表，可选数据库，后台实现各个数据库的创建--同时添加数据字典
   维护表页面：添加，修改，删除字段--同时维护数据字典
通过jsp_name_table设置字段，如需要添加编辑器，
 用户可自定义显示栏位，先选中的排前面，可根据用户是否有自定义栏位，优先显示
可以选择是否使用编辑器，格式化

模块：用户模块，系统维护，个人信息

权限验证的必要：权限加于菜单，但是可以通过用户登录，使用直接请求接口，则可以跳过菜单权限

写一个可以重新加载配置文件的方法，把所有配置信息放在一个config.java里

查询SQL拼接时要做后面的字段覆盖前面的相同字段（防止有的数据库取前面字段（mysql），有的数据库取后面的字段（hana））

主键唯一（不用联合主键：如有联合，可做唯一索引）

系统配置放数据库，默认数据库放配置文件（启动文件）











流程activate
权限shiro，spring Security
文档swagger

python